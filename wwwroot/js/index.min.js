function init(n){n.Ion.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIzZDMwNTQ3ZC0xYjE5LTQ5MTUtYmM4ZC0yOTgwYTg4ZDA0N2EiLCJpZCI6MTQwNzcsInNjb3BlcyI6WyJhc3IiLCJnYyJdLCJpYXQiOjE1NjQ3MDg4OTJ9.YUsZDqZPckX3GwlCCuqfoOVZokwMKdySqrkVgKUv5dA";var i=new n.UrlTemplateImageryProvider({url:"http://localhost:6060/Data/BASE_DATA/IMAGE/{Z}/{X}/{Y}.png",tilingScheme:new n.WebMercatorTilingScheme,fileExtension:"png",minimumLevel:0,maximumLevel:13}),t=new n.Viewer("cesiumContainer",{animation:!1,baseLayerPicker:!1,geocoder:!1,timeline:!1,sceneModePicker:!1,navigationHelpButton:!1,infoBox:!0,baseLayerPicker:!1,homeButton:!1,selectionIndicator:!1,contextOptions:{webgl:{alpha:!1}},fullscreenButton:!1,infoBox:!1});return t.scene.globe.baseColor=new n.Color(1,1,1,0),t.scene.undergroundMode=!0,t.scene.backgroundColor=new n.Color(1,1,1,0),t.scene.globe.depthTestAgainstTerrain=!0,t.scene.logarithmicDepthBuffer=!1,t._cesiumWidget._creditContainer.style.display="none",t.scene.skyBox.show=!1,t.scene.sun.show=!1,t.scene.moon.show=!1,t.scene.globe.show=!1,t.scene.skyAtmosphere.show=!1,t.scene.globe.depthTestAgainstTerrain=!1,t.scene.globe.enableLighting=!1,t}function init1(n){n.Ion.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIzZDMwNTQ3ZC0xYjE5LTQ5MTUtYmM4ZC0yOTgwYTg4ZDA0N2EiLCJpZCI6MTQwNzcsInNjb3BlcyI6WyJhc3IiLCJnYyJdLCJpYXQiOjE1NjQ3MDg4OTJ9.YUsZDqZPckX3GwlCCuqfoOVZokwMKdySqrkVgKUv5dA";var t;return t=new n.Viewer("cesiumContainer",{terrainExaggeration:.95,baseLayerPicker:!1,fullscreenButton:!1,geocoder:!1,homeButton:!1,navigationHelpButton:!1,sceneModePicker:!1,timeline:!1,animation:!1,selectionIndicator:!1,infoBox:!1}),t._cesiumWidget._creditContainer.style.display="none",t.scene.globe.showGroundAtmosphere=!1,t.scene.globe.baseColor=new n.Color(1,1,1,0),t.camera.setView({destination:new n.Cartesian3.fromDegrees(99,36.4,18000008),orientation:{}}),t.scene.globe.depthTestAgainstTerrain=!0,t}function add3DtilesNoStyle(n,t){var i=n.scene.primitives.add(new Cesium.Cesium3DTileset({url:t}));i.readyPromise.then(function(){n.zoomTo(i)})}function add3DTilesetData(n,t,i){let u=get3DTilesData(n,t);if(u==undefined){var r=new Cesium.Cesium3DTileset({url:t});r.style=i;n.scene.primitives.add(r);addListener(r);n.zoomTo(r);r.loadProgress.addEventListener(function(n,t){n===0&&t===0});r.readyPromise.then(function(i){var r,u;if(n.zoomTo(i),r=i.properties,console.log(r),Cesium.defined(r))for(u in r)console.log(u);t==XINYI_CLASSIF_MODEL_DOWN_URL&&(i.style=XINYI_CLASSIF_MODEL_STYLE)})}}function get3DTilesData(n,t){let r,i=n.scene.primitives;for(let n=0;n<i.length;n++)i._primitives[n]._url==t&&(r=i._primitives[n]);return r}function removeAllTiles(n){for(var i=n.scene.primitives,t=i.length-1;t>-1;t--)n.scene.primitives.remove(i._primitives[t])}function remove3dtiles(n,t){var r,i;let u=get3DTilesData(n,t);if(u!=undefined)for(r=n.scene.primitives,i=0;i<r.length;i++)r._primitives[i]._url==t&&n.scene.primitives.remove(r._primitives[i]);else console.log("当前场景中不存在此数据")}function addPickEntity(n,t){if(n&&t.length==1){removeAllTiles(n);for(let t of t)add3Dtiles(n,t[0],t[1])}else if(n&&t.length==2){removeAllTiles(n);for(let t of t)add3Dtiles(n,t[0],t[1])}}function add3Dtiles(n,t,i){var r=n.scene.primitives.add(new Cesium.Cesium3DTileset({url:t}));r.style=i;r.readyPromise.then(function(t){n.zoomTo(t,new HeadingPitchRange(0,-1,t.boundingSphere.radius));let r=t.boundingSphere.center,i=Cartographic.fromCartesian(r,n.scene.globe.ellipsoid);i.height=t.boundingSphere.radius*1.5;CesiumNavigation.terria.options.defaultResetView=i})}function set3DTileStyle(n,t){var r,u;let i=[];r="${"+n+"} === '"+t+"'";u=[r,"rgb(255,255,255)"];i.push(u);return i.push(["true","rgba(255,165,188,0.002)"]),new Cesium.Cesium3DTileStyle({color:{conditions:i}})}function addListener(n){let i=viewer.scene;var t=new Cesium.ScreenSpaceEventHandler(viewer.scene.canvas);t.setInputAction(function(t){var i=viewer.scene.pick(t.position);console.log("选中的要素",i);i&&selectFeature(i,n)},Cesium.ScreenSpaceEventType.LEFT_CLICK)}function selectFeature(n,t){var i=n.getProperty("id"),r="${id} ==="+i,u=new Cesium.Cesium3DTileStyle({color:{conditions:[[r,"rgb(255,255,0)"],["true","rgb(127, 59, 8)"],]}});t.style=u}function getAllProperty(n){var t=n.getPropertyNames(),r,i;console.log(t);r=t.length;for(let u=0;u<r;++u)i=t[u],console.log(i+":"+n.getProperty(i))}function add3DTileByHeight(n){tileset=viewer.scene.primitives.add(new Cesium.Cesium3DTileset({url:n}));tileset.readyPromise.then(n=>{setColorByHeight(),viewer.flytTo(n)})}function setColorByHeight(){tileset.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["${height}>=300","rgba(45,0,75,0.5)"],["${height}>=200","rgba(102,71,151)"],["${height}>=100","rgba(170,162,204)"],["${height}>=50","rgba(224,226,238)"],["${height}>=25","rgba(252,230,200)"],["${height}>=10","rgba(248,176,87)"],["${height}>=5","rgba(198,106,11)"],["true","rgba(127,59,8)"]]}})}function colorByDistance(){tileset.style=new Cesium.Cesium3DTileStyle({defines:{distance:`distance(vec2(${longitude},${latitude}),vec2(-1.291777521, 0.7105706624))`},color:{conditions:[[`${distance}>0.0012`,"color('red')"],[`${distance}>0.0008`,`mix(color(yellow),color('red'),(${distance}-0.008)/0.0004`],[`${distance}<0.00001`,"color('white')"],["true",`mix(color('blue'),color('green'),${distance}/0.0004)`]]}})}function hideByHeight(){tileset.style=new Cesium.Cesium3DTileStyle({show:"${height} > 200"})}